/*!
 * Continuous Carousel âˆž v0.3.0
 * Continuous carousel that uses vanilla JavaScript & CSS animations.
 * @author Jon Chretien
 * @license Released under the MIT license.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):(e="undefined"!=typeof globalThis?globalThis:e||self).ContinuousCarousel=n()}(this,function(){"use strict";function e(e,n){this.v=e,this.k=n}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function t(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach(function(n){t(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,u,a=[],c=!0,s=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(a.push(r.value),a.length!==n);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(n){var t,r;function o(t,r){try{var u=n[t](r),a=u.value,c=a instanceof e;Promise.resolve(c?a.v:a).then(function(e){if(c){var r="return"===t?"return":"next";if(!a.k||e.done)return o(r,e);e=n[r](e).value}i(u.done?"return":"normal",e)},function(e){o("throw",e)})}catch(e){i("throw",e)}}function i(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?o(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(i,u){var a={key:e,arg:n,resolve:i,reject:u,next:null};r?r=r.next=a:(t=r=a,o(e,n))})},"function"!=typeof n.return&&(this.return=void 0)}u.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},u.prototype.next=function(e){return this._invoke("next",e)},u.prototype.throw=function(e){return this._invoke("throw",e)},u.prototype.return=function(e){return this._invoke("return",e)};var a="horizontal",c="vertical",s="data-paused",l={direction:a,numVisible:1,interval:2e3,transitionDuration:1e3,resetDuration:1,pauseOnHover:!1,pauseOnFocus:!1,autoplay:!0,observeVisibility:!0,observeResize:!0,ariaLive:"polite",announceSlides:!0,onSlideChange:null,onPause:null,onPlay:null,onDestroy:null};function f(e){var n=e.toLowerCase().trim();if(n!==a&&n!==c)throw new Error('Direction must be either "'.concat(a,'" or "').concat(c,'"'));return n}function v(e){var n=Number(e);if(isNaN(n)||n<1||!Number.isInteger(n))throw new Error("numVisible must be a positive integer");return n}function d(e,n,t){e&&(e.textContent="Item ".concat(n," of ").concat(t))}function m(e,n){Object.entries(n).forEach(function(n){var t=i(n,2),r=t[0],o=t[1];e.style.setProperty(r,o)})}var p={getTransform:function(e){return"translate3d(".concat(e,"px, 0, 0)")},getMeasurement:function(e){return e.offsetWidth},getSizeProperty:function(){return"width"},getCSSVariableName:function(){return"--carousel-item-width"}},b={getTransform:function(e){return"translate3d(0, ".concat(e,"px, 0)")},getMeasurement:function(e){return e.offsetHeight},getSizeProperty:function(){return"height"},getCSSVariableName:function(){return"--carousel-item-height"}};function y(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).debounceDelay,t=void 0===n?150:n,r=null,o=null;function i(){e.recalculateDimensions&&e.recalculateDimensions()}function u(){var e,n,r;e=i,n=t,o=function(){for(var t=this,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];clearTimeout(r),r=setTimeout(function(){return e.apply(t,i)},n)},window.addEventListener("resize",o)}return{observe:function(){if(!("ResizeObserver"in window))return console.warn("ResizeObserver not supported. Using window resize fallback."),void u();r||(r=new ResizeObserver(function(){i()})),r.observe(e.container)},disconnect:function(){r&&(r.disconnect(),r=null),o&&(window.removeEventListener("resize",o),o=null)}}}return function(e){var n,r,i,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=function(e){var n=e;if("string"==typeof e&&!(n=document.getElementById(e)))throw new Error('Carousel container with id "'.concat(e,'" not found'));if(!(n instanceof HTMLElement))throw new Error("Carousel container must be an HTMLElement or valid element ID");return n}(e),g=h.getAttribute("data-direction"),w=h.getAttribute("data-num-visible"),O=o(o(o(o({},l),g&&{direction:f(g)}),w&&{numVisible:v(w)}),u),S=f(O.direction),E=v(O.numVisible),P=h.querySelector(".c-carousel-group"),j=Array.from(h.querySelectorAll(".c-carousel-item")),D=j.length,C=1,A=0,I=null,z=!1,L=function(e){var n=t(t({},a,p),c,b)[e];if(!n)throw new Error("Invalid direction: ".concat(e,'. Must be "').concat(a,'" or "').concat(c,'"'));return n}(S),x=null,k=null,T=null;function N(){var e=L.getMeasurement(h),n=e/E,t=D+E;return m(h,{"--carousel-item-width":"horizontal"===S?"".concat(n,"px"):"auto","--carousel-item-height":"vertical"===S?"".concat(n,"px"):"auto","--carousel-item-count":t,"--carousel-transition-duration":"".concat(O.transitionDuration,"ms")}),{itemSize:n,containerSize:e}}function V(e,n){P.style.transform=L.getTransform(e),void 0!==n&&m(h,{"--carousel-transition-duration":"".concat(n,"ms")})}function F(){var e=N().itemSize;A===-e*D?(C=1,V(A=0,O.resetDuration),setTimeout(function(){C++,V(A-=e*E,O.transitionDuration),I&&d(I,C,D),O.onSlideChange&&O.onSlideChange(C)},O.resetDuration+50)):(++C>D&&(C=1),V(A-=e*E,O.transitionDuration),I&&d(I,C,D),O.onSlideChange&&O.onSlideChange(C))}function M(){z&&(z=!1,h.setAttribute(s,"false"),x&&(x.getIsPaused()?x.resume():x.getIsRunning()||x.start()),O.onPlay&&O.onPlay())}function R(){z||(z=!0,h.setAttribute(s,"true"),x&&x.pause(),O.onPause&&O.onPause())}return n=j.slice(0,E),r=document.createDocumentFragment(),n.forEach(function(e){var n=e.cloneNode(!0);r.appendChild(n)}),i=r,P.appendChild(i),N(),O.announceSlides&&(I=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite",t=document.createElement("div");return t.setAttribute("aria-live",n),t.setAttribute("aria-atomic","true"),t.className="".concat("c-carousel-liveregion"," ").concat("c-carousel-visuallyhidden"),e.appendChild(t),t}(h,O.ariaLive),d(I,C,D)),x=function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).interval,t=void 0===n?2e3:n,r=null,o=0,i=!1,u=!1;function a(n){i||(0===o&&(o=n),n-o>=t&&(e.advanceSlide&&e.advanceSlide(),o=n)),r=requestAnimationFrame(a)}return{start:function(){u||(u=!0,i=!1,o=0,r=requestAnimationFrame(a))},stop:function(){r&&(cancelAnimationFrame(r),r=null),u=!1,i=!1,o=0},pause:function(){i=!0},resume:function(){i&&(i=!1,o=0)},getIsRunning:function(){return u},getIsPaused:function(){return i}}}({advanceSlide:F,container:h},{interval:O.interval}),O.observeResize&&(T=y({recalculateDimensions:N,container:h})).observe(),O.observeVisibility&&(k=function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).threshold,t=void 0===n?.5:n,r=null;function o(n){n.forEach(function(n){n.isIntersecting?e.play():e.pause()})}return{observe:function(){"IntersectionObserver"in window?(r||(r=new IntersectionObserver(o,{threshold:t})),r.observe(e.container)):console.warn("IntersectionObserver not supported. Carousel will run continuously.")},disconnect:function(){r&&(r.disconnect(),r=null)}}}({play:M,pause:R,container:h},{threshold:.5}),k.observe()),O.pauseOnHover&&(h.addEventListener("mouseenter",R),h.addEventListener("mouseleave",M)),O.pauseOnFocus&&(h.addEventListener("focusin",R),h.addEventListener("focusout",M)),O.autoplay&&x.start(),{play:M,pause:R,destroy:function(){x&&x.stop(),k&&k.disconnect(),T&&T.disconnect(),O.pauseOnHover&&(h.removeEventListener("mouseenter",R),h.removeEventListener("mouseleave",M)),O.pauseOnFocus&&(h.removeEventListener("focusin",R),h.removeEventListener("focusout",M)),I&&I.remove(),O.onDestroy&&O.onDestroy()},updateConfig:function(e){Object.assign(O,e),void 0!==e.transitionDuration&&N()},container:h,config:O}}});